{"version":3,"sources":["../src/api-agent.js"],"names":["superagent","makeAgent","prefix","agent","PROJECT_PROTOCOL","process","env","window","location","protocol","replace","PROJECT_HOST","hostname","PROJECT_PORT","port","use","setToken","newToken","token"],"mappings":"AAEA,OAAOA,UAAP,MAAuB,YAAvB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAO,MAAMC,KAAK,GAAGF,SAAS,CAACD,UAAD,CAAvB;AAEP,MAAMI,gBAAgB,GAAGC,OAAO,CAACC,GAAR,CAAYF,gBAAZ,IAAgCG,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,OAAzB,CAAiC,GAAjC,EAAsC,EAAtC,CAAzD;AACA,MAAMC,YAAY,GAAGN,OAAO,CAACC,GAAR,CAAYK,YAAZ,IAA4BJ,MAAM,CAACC,QAAP,CAAgBI,QAAjE;AACA,MAAMC,YAAY,GAAGR,OAAO,CAACC,GAAR,CAAYO,YAAZ,IAA4BN,MAAM,CAACC,QAAP,CAAgBM,IAA5C,KAAqDV,gBAAgB,KAAK,OAArB,GAA+B,GAA/B,GAAqC,EAA1F,CAArB;AAEAD,KAAK,CAACY,GAAN,CAAUb,MAAM,CAAE,GAAEE,gBAAiB,MAAKO,YAAa,IAAGE,YAAa,WAAvD,CAAhB;AAEA,OAAO,MAAMG,QAAQ,GAAIC,QAAD,IAAsB;AAC5Cd,EAAAA,KAAK,CAACe,KAAN,GAAcD,QAAd;AACD,CAFM","sourcesContent":["// @flow\n\nimport superagent from 'superagent';\nimport makeAgent from 'superagent-use';\nimport prefix from 'superagent-prefix';\n\nexport const agent = makeAgent(superagent);\n\nconst PROJECT_PROTOCOL = process.env.PROJECT_PROTOCOL || window.location.protocol.replace(':', '');\nconst PROJECT_HOST = process.env.PROJECT_HOST || window.location.hostname;\nconst PROJECT_PORT = process.env.PROJECT_PORT || window.location.port || (PROJECT_PROTOCOL === 'https' ? 443 : 80);\n\nagent.use(prefix(`${PROJECT_PROTOCOL}://${PROJECT_HOST}:${PROJECT_PORT}/api/v1.0`));\n\nexport const setToken = (newToken: string) => {\n  agent.token = newToken;\n};\n"],"file":"api-agent.js"}