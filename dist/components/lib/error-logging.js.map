{"version":3,"sources":["../../../src/components/lib/error-logging.js"],"names":["SubscribeError","braidClient","logSubscribeError","name","error","errorStack","process","env","NODE_ENV","Error","stack","undefined","originalStack","split","slice","join","logger"],"mappings":"AAEA,SAASA,cAAT,QAA+B,6BAA/B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,OAAO,SAASC,iBAAT,CAA2BC,IAA3B,EAAyCC,KAAzC,EAAsD;AAC3D,QAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC,IAAIC,KAAJ,GAAYC,KAApD,GAA4DC,SAA/E;;AACA,MAAIL,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAIJ,KAAK,YAAYJ,cAArB,EAAqC;AACnC,YAAMY,aAAa,GAAGR,KAAK,CAACM,KAA5B;;AACA,UAAI,OAAOL,UAAP,KAAsB,QAA1B,EAAoC;AAClC,YAAI,OAAOO,aAAP,KAAyB,QAA7B,EAAuC;AACrCR,UAAAA,KAAK,CAACM,KAAN,GAAc,CAACE,aAAa,CAACC,KAAd,CAAoB,IAApB,EAA0B,CAA1B,CAAD,EAA+B,GAAGR,UAAU,CAACQ,KAAX,CAAiB,IAAjB,EAAuBC,KAAvB,CAA6B,CAA7B,CAAlC,EAAmEC,IAAnE,CAAwE,IAAxE,CAAd,CADqC,CACwD;AAC9F,SAFD,MAEO;AACLX,UAAAA,KAAK,CAACM,KAAN,GAAc,CAAE,6BAA4BP,IAAI,IAAI,cAAe,EAArD,EAAwD,GAAGE,UAAU,CAACQ,KAAX,CAAiB,IAAjB,EAAuBC,KAAvB,CAA6B,CAA7B,CAA3D,EAA4FC,IAA5F,CAAiG,IAAjG,CAAd,CADK,CACiH;AACvH;;AACDd,QAAAA,WAAW,CAACe,MAAZ,CAAmBX,UAAnB,CAA8BD,KAA9B;AACD;AACF;AACF;AACF","sourcesContent":["// @flow\n\nimport { SubscribeError } from '@bunchtogether/braid-client';\nimport { braidClient } from '../../index';\n\nexport function logSubscribeError(name?:string, error:Error) {\n  const errorStack = process.env.NODE_ENV !== 'production' ? new Error().stack : undefined;\n  if (process.env.NODE_ENV !== 'production') {\n    if (error instanceof SubscribeError) {\n      const originalStack = error.stack;\n      if (typeof errorStack === 'string') {\n        if (typeof originalStack === 'string') {\n          error.stack = [originalStack.split('\\n')[0], ...errorStack.split('\\n').slice(1)].join('\\n'); // eslint-disable-line no-param-reassign\n        } else {\n          error.stack = [`SubscribeError: Error for ${name || 'unknown name'}`, ...errorStack.split('\\n').slice(1)].join('\\n'); // eslint-disable-line no-param-reassign\n        }\n        braidClient.logger.errorStack(error);\n      }\n    }\n  }\n}\n"],"file":"error-logging.js"}