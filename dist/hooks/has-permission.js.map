{"version":3,"sources":["../../src/hooks/has-permission.js"],"names":["useCallback","List","useParseBraidValue","getName","sourceId","targetId","undefined","useHasPermission","permission","name","parse","v","isList","includes"],"mappings":"AAEA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,IAAT,QAAqB,WAArB;AACA,OAAOC,kBAAP,MAA+B,qBAA/B;;AAEA,MAAMC,OAAO,GAAG,CAACC,QAAD,EAAoBC,QAApB,KAA0C;AACxD,MAAI,OAAOD,QAAP,KAAoB,QAAxB,EAAkC;AAChC,WAAOE,SAAP;AACD;;AACD,MAAI,OAAOD,QAAP,KAAoB,QAAxB,EAAkC;AAChC,WAAOC,SAAP;AACD;;AACD,SAAQ,KAAIF,QAAS,IAAGC,QAAS,EAAjC;AACD,CARD;;AAUA,eAAe,SAASE,gBAAT,CAA0BH,QAA1B,EAA6CC,QAA7C,EAAgEG,UAAhE,EAAoF;AACjG,QAAMC,IAAI,GAAGN,OAAO,CAACC,QAAD,EAAWC,QAAX,CAApB;AACA,QAAMK,KAAK,GAAGV,WAAW,CAAEW,CAAD,IAAW;AACnC,QAAIV,IAAI,CAACW,MAAL,CAAYD,CAAZ,CAAJ,EAAoB;AAClB,aAAOA,CAAC,CAACE,QAAF,CAAWL,UAAX,CAAP;AACD;;AACD,WAAOF,SAAP;AACD,GALwB,EAKtB,CAACE,UAAD,CALsB,CAAzB;AAMA,SAAON,kBAAkB,CAACO,IAAD,EAAOC,KAAP,CAAzB;AACD","sourcesContent":["// @flow\n\nimport { useCallback } from 'react';\nimport { List } from 'immutable';\nimport useParseBraidValue from './parse-braid-value';\n\nconst getName = (sourceId?: string, targetId?: string) => {\n  if (typeof sourceId !== 'string') {\n    return undefined;\n  }\n  if (typeof targetId !== 'string') {\n    return undefined;\n  }\n  return `p/${sourceId}/${targetId}`;\n};\n\nexport default function useHasPermission(sourceId?: string, targetId?: string, permission: string) {\n  const name = getName(sourceId, targetId);\n  const parse = useCallback((v:any) => {\n    if (List.isList(v)) {\n      return v.includes(permission);\n    }\n    return undefined;\n  }, [permission]);\n  return useParseBraidValue(name, parse);\n}\n"],"file":"has-permission.js"}